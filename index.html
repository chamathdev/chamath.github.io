!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <title>Environment map</title>

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@1.3.0/dist/aframe-orbit-controls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://kit.fontawesome.com/c9500776a0.js" crossorigin="anonymous"></script>
</head>

<body style="margin : 0px; overflow: hidden;">
    <div style="position: fixed; width: 100%;margin: 0 auto; text-align: center; z-index: 99; top: 1%;">
        <p><a href="https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4">Helmet</a> by <a href="https://sketchfab.com/theblueturtle_">theBlueTurtle</a>   
        published under a Creative Commons Attribution-NonCommercial license<br>
            PISA maps from <a href="https://github.com/mrdoob/three.js/tree/dev/examples/textures/cube/pisa">the Three.js repo 2</a></p>
    </div>
    <a-scene embedded 
	arjs = "sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;"
	renderer="antialias: true; logarithmicDepthBuffer: true; colorManagement: true; sortObjects: true;"
	vr-mode-ui="enabled: false" >
        <a-assets>
            <a-asset-item id="helmet" src="untitled.gltf"></a-asset-item>
        </a-assets>
        <a-marker
	    type="pattern" 
		preset="custom" 
		url="pattern-download.patt"
		emitevents="true"
		cursor="fuse: false; rayOrigin: mouse;"
		smooth="true" 
		smoothCount="60" 
		smoothTolerance="2" 
		smoothThreshold="20"
	  >

        <a-entity position="0 0.5 0" gltf-model="#helmet" cube-env-map="path: assets/images/map/;
                        extension: png;
                        reflectivity: 0.5;"></a-entity>
        </a-marker>

        <a-entity camera look-controls
            orbit-controls="target: 0 0.5 0; minDistance: 0.5; maxDistance: 180; initialPosition: 0 5 15"></a-entity>
    </a-scene>

</body>

</html>